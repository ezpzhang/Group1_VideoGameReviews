"0","# this this may take you long time to run, we save result.lasso"
"0","saveRDS(resultuser.lasso, file=""data/ACuser_lasso.RDS"")"
"0","# resultuser.lasso can be assigned back by "
"0","# resultuser.lasso <- readRDS(""data/ACuser_lasso.RDS"")"
"0",""
"0","# non zero words picked up by LASSO"
"0","coefuser.1se <- coef(resultuser.lasso, s=""lambda.1se"")  "
"0","lassouser.words <- coefuser.1se@Dimnames[[1]] [coefuser.1se@i][-1] # non-zero variables without intercept. "
"0","summary(lassouser.words)"
"1","   Length "
"1","    Class "
"1","     Mode "
"1","
"
"1","      184 "
"1","character "
"1","character "
"1","
"
"0","#RELAXED LASSO"
"0",""
"0","sel_colsuser <- c(""judgment"", lassouser.words)"
"0","data_subuser <- userreview2.train %>% select(all_of(sel_colsuser))"
"0","resultuser.glm <- glm(judgment~., family=binomial, data_subuser)"
"2","glm.fit: fitted probabilities numerically 0 or 1 occurred"
"0","## trim the glm() fat from "
"0","## https://win-vector.com/2014/05/30/trimming-the-fat-from-glm-models-in-r/"
"0","stripGlmLR = function(cm) {"
"0","  cm$y = c()"
"0","  cm$model = c()"
"0","  "
"0","  cm$residuals = c()"
"0","  cm$fitted.values = c()"
"0","  cm$effects = c()"
"0","  cm$qr$qr = c()  "
"0","  cm$linear.predictors = c()"
"0","  cm$weights = c()"
"0","  cm$prior.weights = c()"
"0","  cm$data = c()"
"0",""
"0","  "
"0","  cm$family$variance = c()"
"0","  cm$family$dev.resids = c()"
"0","  cm$family$aic = c()"
"0","  cm$family$validmu = c()"
"0","  cm$family$simulate = c()"
"0","  attr(cm$terms,"".Environment"") = c()"
"0","  attr(cm$formula,"".Environment"") = c()"
"0","  "
"0","  cm"
"0","}"
"0",""
"0","resultuser.glm.small <- stripGlmLR(resultuser.glm)"
"0","saveRDS(resultuser.glm.small, file = ""data/ACuser_glm_small.RDS"")"
"0",""
"0","#resultuser.lasso.small <- stripGlmLR(resultuser.lasso)"
"0",""
